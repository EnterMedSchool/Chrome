<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EnterMedSchool Glossary</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <!-- Header -->
    <header class="popup-header">
      <div class="header-brand">
        <img src="../../assets/icons/icon-48.png" alt="Leo" class="logo-img">
        <div class="header-text">
          <h1>EnterMedSchool</h1>
          <p class="header-attribution">Proudly made by Harvey Medical Students & Doctors at the University of Pavia</p>
        </div>
      </div>
      <span class="version" id="versionDisplay">v1.1.0</span>
    </header>

    <!-- PDF Notice (shown when viewing PDF) -->
    <section class="section pdf-notice-section" id="pdfNoticeSection" style="display: none;">
      <div class="pdf-notice">
        <span class="pdf-notice-icon">ğŸ“„</span>
        <div class="pdf-notice-content">
          <span class="pdf-notice-title">PDF Page Detected</span>
          <span class="pdf-notice-text">Term highlighting is not available in Chrome's PDF viewer. Copy text to a webpage to use EMS Glossary.</span>
        </div>
      </div>
    </section>

    <!-- Domain Status Card (Adblock-like) -->
    <section class="section domain-card" id="domainCard">
      <div class="domain-status">
        <span class="domain-status-icon" id="domainStatusIcon">â—</span>
        <div class="domain-info">
          <span class="domain-name" id="domainName">Loading...</span>
          <span class="domain-label" id="domainLabel">Active</span>
        </div>
      </div>
      <div class="domain-stats">
        <div class="domain-stat">
          <span class="domain-stat-number" id="highlightCount">-</span>
          <span class="domain-stat-label">terms found</span>
        </div>
      </div>
      <button class="domain-toggle-btn" id="toggleSiteBtn">
        <span class="btn-icon">ğŸš«</span>
        <span class="btn-text">Disable on this site</span>
      </button>
      <button class="pause-btn" id="pauseExtensionBtn">
        <span class="btn-icon">â¸ï¸</span>
        <span class="btn-text">Pause Extension</span>
      </button>
    </section>

    <!-- Main Toggle -->
    <section class="section toggle-section">
      <div class="toggle-row">
        <span class="toggle-label">Enable Highlighting</span>
        <label class="toggle">
          <input type="checkbox" id="enableToggle" checked>
          <span class="slider"></span>
        </label>
      </div>
    </section>

    <!-- Quick Stats -->
    <section class="section stats-section">
      <div class="stat">
        <span class="stat-number" id="termCount">336</span>
        <span class="stat-label">Terms</span>
      </div>
      <div class="stat">
        <span class="stat-number" id="viewCount">0</span>
        <span class="stat-label">Views</span>
      </div>
    </section>

    <!-- Highlight Style -->
    <section class="section">
      <h2 class="section-title">Highlight Style</h2>
      <div class="style-options">
        <button class="style-btn active" data-style="underline" title="Underline">
          <span class="style-preview style-underline">ABC</span>
        </button>
        <button class="style-btn" data-style="background" title="Background">
          <span class="style-preview style-background">ABC</span>
        </button>
        <button class="style-btn" data-style="bold" title="Bold">
          <span class="style-preview style-bold">ABC</span>
        </button>
      </div>
    </section>

    <!-- Color Picker -->
    <section class="section">
      <h2 class="section-title">Highlight Color</h2>
      <div class="color-options">
        <button class="color-btn active" data-color="#6C5CE7" style="background: #6C5CE7"></button>
        <button class="color-btn" data-color="#ef4444" style="background: #ef4444"></button>
        <button class="color-btn" data-color="#22c55e" style="background: #22c55e"></button>
        <button class="color-btn" data-color="#0ea5e9" style="background: #0ea5e9"></button>
        <button class="color-btn" data-color="#f59e0b" style="background: #f59e0b"></button>
        <input type="color" id="customColor" class="color-input" value="#6C5CE7" title="Custom color">
      </div>
    </section>

    <!-- Theme -->
    <section class="section">
      <h2 class="section-title">Theme</h2>
      <div class="theme-options">
        <button class="theme-btn active" data-theme="auto">
          <span class="theme-icon">ğŸŒ“</span>
          Auto
        </button>
        <button class="theme-btn" data-theme="light">
          <span class="theme-icon">â˜€ï¸</span>
          Light
        </button>
        <button class="theme-btn" data-theme="dark">
          <span class="theme-icon">ğŸŒ™</span>
          Dark
        </button>
      </div>
    </section>

    <!-- Hover Preview -->
    <section class="section">
      <h2 class="section-title">Hover Preview</h2>
      <div class="toggle-row-small">
        <span class="toggle-label-small">Show preview on hover</span>
        <label class="toggle toggle-small">
          <input type="checkbox" id="hoverPreviewToggle">
          <span class="slider"></span>
        </label>
      </div>
      <p class="setting-hint">When enabled, hovering over terms shows a mini preview. Click for full details.</p>
    </section>

    <!-- Hover Delay -->
    <section class="section hover-delay-section" id="hoverDelaySection">
      <h2 class="section-title">Hover Delay</h2>
      <div class="slider-row">
        <input type="range" id="hoverDelaySlider" min="100" max="1000" step="50" value="300">
        <span class="slider-value" id="hoverDelayValue">300ms</span>
      </div>
      <p class="setting-hint">Time before hover preview appears.</p>
    </section>

    <!-- Beta Features -->
    <section class="section">
      <h2 class="section-title">ğŸ§ª Beta Features</h2>
      <div class="toggle-row-small">
        <span class="toggle-label-small">Enable experimental features</span>
        <label class="toggle toggle-small">
          <input type="checkbox" id="betaFeaturesToggle">
          <span class="slider"></span>
        </label>
      </div>
      <p class="setting-hint">Enables calculators, lab value visualizations, and interactive formulas.</p>
    </section>

    <!-- User Level -->
    <section class="section">
      <h2 class="section-title">Your Level</h2>
      <div class="level-options">
        <button class="level-btn" data-level="premed">
          <span class="level-icon">ğŸ“–</span>
          <span class="level-text">Pre-Med</span>
        </button>
        <button class="level-btn active" data-level="medschool">
          <span class="level-icon">ğŸ©º</span>
          <span class="level-text">Med School</span>
        </button>
        <button class="level-btn" data-level="all">
          <span class="level-icon">ğŸ“</span>
          <span class="level-text">Show All</span>
        </button>
      </div>
      <p class="setting-hint">Controls which terms get highlighted. Select your level to see relevant terms, or "Show All" for everything.</p>
    </section>

    <!-- Font Size -->
    <section class="section">
      <h2 class="section-title">Popup Font Size</h2>
      <div class="font-size-row">
        <button class="font-btn" id="fontDecrease" title="Decrease">Aâˆ’</button>
        <span class="font-value" id="fontValue">100%</span>
        <button class="font-btn" id="fontIncrease" title="Increase">A+</button>
      </div>
    </section>

    <!-- Quick Actions -->
    <section class="section">
      <h2 class="section-title">Quick Actions</h2>
      <div class="quick-actions">
        <button class="action-btn" id="searchBtn">
          <span class="btn-icon">ğŸ”</span>
          Search Glossary
        </button>
        <button class="action-btn" id="browseBtn">
          <span class="btn-icon">ğŸ“š</span>
          Browse Terms
        </button>
        <button class="action-btn" id="statsBtn">
          <span class="btn-icon">ğŸ“Š</span>
          View Stats
        </button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="popup-footer">
      <a href="#" id="helpLink">Help</a>
      <a href="https://entermedschool.com" target="_blank">EnterMedSchool</a>
    </footer>
  </div>

  <script src="popup.js" type="module"></script>
</body>
</html>
